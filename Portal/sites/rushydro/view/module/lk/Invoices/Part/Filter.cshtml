@using LkModule.Areas.Lk.Models
@model InvoiceFrontModel
@{
    Layout = null;
}

@{
    var dateRange = "";
    var dateStart = "";
    var dateEnd = "";
    if (Model.Filter != null && Model.Filter.Date.HasValue && Model.Filter.DateEnd.HasValue)
    {
        dateStart = Model.Filter.Date.Value.ToString("dd.MM.yyyy");
        dateEnd = Model.Filter.DateEnd.Value.ToString("dd.MM.yyyy");
        dateRange = $"{dateStart} - {dateEnd}";
    }

    var category = (Model.Filter != null && !string.IsNullOrEmpty(Model.Filter.Category))? Model.Filter.Category: "";
    var type = (Model.Filter!= null && !string.IsNullOrEmpty(Model.Filter.Type)) ? Model.Filter.Type : "";
}
<div class="filterByDateBlock">
    <form role="form">
        <div class="row">
            <div class="col-xs-8 col-sm-3">
                <div class="form-group">
                    <label for="js_filterDateRange-input" class="control-label">Диапазон: </label>
                    <div class="input-group date">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" class="form-control pull-right" id="js_filterDateRange-input" value="@dateRange">
                        <input type="hidden" name="datestart" id="js_filterBeginDate-input" value="@dateStart">
                        <input type="hidden" name="dateend" id="js_filterEndDate-input" value="@dateEnd">
                    </div>
                </div>
            </div>
            <div class="col-xs-8 col-sm-3">
                <div class="form-group">
                    <label for="filterDocType-select" class="control-label">Тип документа: </label>
                    <select name="type" id="filterDocType-select" class="form-control select2">
                        <option value="">Все</option>
                        @if (Model.DocTypes != null && Model.DocTypes.Count() > 0)
                        {
                            foreach (var docType in Model.DocTypes)
                            {
                                <option value="@docType.Id" @(type == docType.Id.ToString()? "selected": "") >@docType.Name</option>
                            }
                        }
                    </select>
                </div>
            </div>
            <div class="col-xs-8 col-sm-3">
                <div class="form-group">
                    <label for="filterPayed-select" class="control-label">Статус: </label>
                    <select name="category" id="filterPayed-select" class="form-control select2">
                        <option value="">Все</option>
                        <option value="1" @(category == "1"? "selected" :"")>Оплаченные</option>
                        <option value="0" @(category == "0"? "selected" :"")>Неоплаченные</option>
                    </select>
                </div>
            </div>
            <div class="col-xs-3">
                <div class="form-group">
                    <button type="submit" class="btn btn-default" style="margin-top: 25px;">Показать</button>
                </div>
            </div>

        </div>
    </form>
</div>
