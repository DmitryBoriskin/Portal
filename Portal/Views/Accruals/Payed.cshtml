@using LkModule.Areas.Lk.Models
@model AccrualFrontModel

@Html.Partial("Partial/header")

<div class="content">
    @Html.Partial("Part/Filter")


    @if (Model.List != null && Model.List.Items != null && Model.List.Items.Count() > 0)
    {
        foreach (var item in Model.List.Items)
        {
            <div class="box invoice topIndent-20">
                <div class="box-header with-border">
                    <h3 class="box-title">Счет-фактура № <b>@item.Number</b> от @item.Date.ToString("dd.MM.yyyy")</h3>

                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse">
                            <i class="fa fa-minus"></i>
                        </button>
                        <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                    </div>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin">
                            <thead>
                                <tr>
                                    <th>Задолженность</th>
                                    <th>Тип документа</th>
                                    <th>Период</th>
                                    <th>Количество (объем)</th>
                                    <th>Тарифицируемое потребление</th>
                                    <th>Начислено (без НДС)</th>
                                    <th>НДС</th>
                                    <th>Начислено (с НДС)</th>
                                    <th>Статус</th>
                                    <th>Оплата</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>@item.DebtType</td>
                                    <td>@item.DocType</td>
                                    <td>@item.Period</td>
                                    <td>@item.Cons</td>
                                    <td>@item.Quantity<br />@item.Quantity2</td>
                                    <td>@(item.Amount.HasValue ? (item.Amount.Value - item.Tax.Value).ToString("N2") : "")</td>
                                    <td>@(item.Tax.HasValue ? item.Tax.Value.ToString("N2") : "")</td>
                                    <td>@(item.Amount.HasValue ? item.Amount.Value.ToString("N2") : "")</td>
                                    <td>@item.Status</td>
                                    <td>@item.PaymentId</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- /.table-responsive -->
                </div>
                <!-- /.box-body -->
                <div class="box-footer clearfix">
                    @*<a href="javascript:void(0)" class="btn btn-sm btn-info btn-flat pull-left">Свернуть</a>*@
                    <a href="javascript:void(0)" class="btn btn-sm btn-default btn-flat pull-right">Свернуть</a>
                </div>
                <!-- /.box-footer -->
            </div>

        }

        @Html.Partial("Partial/_pager", Model.List.Pager)

    }
    else
    {
        <div class="box invoice topIndent-20">
            <div class="noItems">Нет данных</div>
        </div>
    }
</div>
